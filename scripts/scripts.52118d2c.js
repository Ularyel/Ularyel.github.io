"use strict";angular.module("toDoApp",["ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("toDoApp").factory("TodoService",function(){var a={};return a.load=function(){a.tasks=localStorage["Todo.tasks"]?JSON.parse(localStorage["Todo.tasks"]):[]},a.save=function(){localStorage["Todo.tasks"]=JSON.stringify(a.tasks)},a.remove=function(b){var c=a.tasks.indexOf(b);a.tasks.splice(c,1),a.save()},a.add=function(b){var c={title:b,completed:!1};a.tasks.push(c),a.save()},a.update=function(){a.save()},a.removeMarked=function(){var b=a.tasks.slice(0);a.tasks=[],angular.forEach(b,function(b){b.completed||a.tasks.push(b)}),console.log(a.tasks),a.save()},a.load(),a}),angular.module("toDoApp").controller("MainCtrl",["$scope","TodoService",function(a,b){a.tasks=b.tasks,a.addTask=function(){b.add(a.activity),a.activity=""},a.remove=function(a){b.remove(a)},a.update=function(a){b.save(a)},a.removedMarked=function(){b.removeMarked(),a.tasks=b.tasks}}]);